# LLanguage
Лексер и парсер для языка L, написанный на Haskell для курса СПбАУ по формальным языкам.
## Сборка
* Парсер: Запустить `./build.sh`, появится исполняемый файл "parser".
* Lexer: Запустить `./build.sh lexer`, появится исполняемый файл "lexer".
* Test: Запустить `./build.sh test`, соберутся и запустятся тесты.
Если ghc не установлен, скрипт поставит его сам.
## Спецификации языка:
* Выражения могут содержать строковые литералы, начинающиеся с подчёркивания или строчных букв латинского алфавита и содержащие те же символы вместе с арабскими цифрами.
* Пробельные символы и переводы строки не влияют на синтаксическое дерево, если они не нарушают целостность других лексических токенов.
* Объявление функции представляет собой литерал-название, в скобках через запятую литералы-аргументы, после либо непустое тело функции в фигурных скобках, либо точка с запятой, тогда тело функции рассахаривается до пустого.
* Тело функции представляет собой последовательность команд.
* Команда представляет собой либо присваивание через :=, либо вызов функции (параметры в скобках через запятую) - тогда команда заканчивается точкой с запятой, либо цикл или условие - тогда точки с запятой после нее нет.
* Цикл - конструкция вида `while (<EXPR>) do { <BODY> }`.
* Условие - конструкция вида `if (<EXPR>) then { <BODY> } else { <BODY> }` либо `if (<EXPR>) then { <BODY> }` - такая конструкция рассахаривается до предыдущей с пустым телом.
* Также поддерживаются операторы `+=`, `-=`,`*=`,`/=`,`%=`, которые рассахариваются как `a += b` = `a := (a + b)`.
* В выражении могут содержаться вызовы функции, числа с плавающей точкой, строковые литералы и бинарные операторы.
* Результаты бинарных операций **должны быть заключены в скобки**: `x + 1` - неправильно, `(x + 1)` - правильно.
